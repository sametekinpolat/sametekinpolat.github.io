<div class="box">
    <aside class="menu">


        <!-- Navigation Links -->
        <p class="menu-label">Navigation</p>
        <ul class="menu-list">
            <li><a href="{{ .Site.BaseURL }}" class="{{ if .IsHome }}is-active{{ end }}">Home</a></li>
            <li><a href="/blog" class="{{ if eq .Section "blog" }}is-active{{ end }}">Blog</a></li>
            <li><a href="/about" class="{{ if and .File (eq .File.Path "about.md") }}is-active{{ end }}">About</a></li>
            <li><a href="/projects" class="{{ if eq .Section "projects" }}is-active{{ end }}">My Projects</a></li>
            <li><a href="#" class="">Download CV <i class="fa-solid fa-download"></i> <span class="is-italic">(Coming Soon)</span></a></li>
            <li><a href="#" class="">Album <span class="is-italic">(Coming Soon)</span></a></li>

        </ul>
        <!-- Social Links -->
        <p class="menu-label mt-6">Connect</p>
        <div class="buttons are-small is-centered">
            <a href="{{ .Site.Params.github }}" class="button is-dark" target="_blank">
                <span class="icon"><i class="fab fa-github"></i></span>
            </a>
            <a href="{{ .Site.Params.linkedin}}" class="button is-info" target="_blank">
                <span class="icon"><i class="fab fa-linkedin"></i></span>
            </a>
        </div>

    </aside>
</div> 

<div class="box">
<!-- Placeholder container -->
<div id="now-playing" class="card" style="max-width: 400px; margin: 2rem auto;">
  <div class="card-content has-text-centered">
    <p class="title is-4">üéß Loading...</p>
  </div>
</div>

<!-- JS to fetch and fill in the card -->
<script>
  fetch('https://lastfmapi.netlify.app/.netlify/functions/now-playing')
    .then(r => r.json())
    .then(data => {
      const container = document.getElementById('now-playing');

      if (!data || !data.title) {
        container.innerHTML = `
          <div class="card-content has-text-centered">
            <p class="title is-5">üéß No recent track found</p>
          </div>
        `;
        return;
      }

      container.innerHTML = `
        <div class="card-image">
          <figure class="image is-square">
            <img src="${data.image}" alt="Album Art">
          </figure>
        </div>
        <div class="card-content">
          <div class="media">
            <div class="media-content has-text-centered">
              <p class="title is-5">${data.title}</p>
              <p class="subtitle is-6">${data.artist}</p>
            </div>
          </div>

          <div class="content has-text-centered">
            <p><strong>Album:</strong> ${data.album}</p>
            <p><strong>${data.nowPlaying ? '‚ñ∂Ô∏è Now Playing' : 'üïí Last Played'}:</strong> ${data.date || 'Unknown'}</p>
            <p><a href="${data.url}" target="_blank">Listen on Last.fm</a></p>
          </div>
        </div>
      `;
    })
    .catch(err => {
      console.error('Error fetching now-playing:', err);
      document.getElementById('now-playing').innerHTML = `
        <div class="card-content has-text-centered">
          <p class="title is-5">‚ö†Ô∏è Error fetching track</p>
        </div>
      `;
    });
</script>

</div>  

<div class="box">
    <div style="max-width:980px;margin:5px auto 10px auto;font-size:14px;"><div style="position:relative;padding: 0 0 67% 0;height:0;overflow:hidden;"><iframe style="position:absolute;top:0;left:0;width:100%;height:100%;" src="//www.fla-shop.com/visited-countries/embed/?st=BE%2CDE%2CES%2CFR%2CGR%2CNL%2CTR&vc=1ca032&uc=b3c3ca&hc=40bfa6&bc=3d3846&ss=on" frameborder="0" scrolling="no"></iframe></div><a href="https://www.fla-shop.com/visited-countries/">Create your own map</a></div>    
    <progress class="progress is-small is-danger" value="6" max="195"></progress>
    <p class="is-size-7">6/195</p>
    

</div>